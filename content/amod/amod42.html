<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Moving and Rotating</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <center>
    <h1>42. Moving and Rotating</h1>
  </center>
  <center>
    <h3>L. B. Cebik, W4RNL</h3>
  </center><br>
  <center>
    <img src="../images/colorbar.gif" align="middle" width="540" height="4">
  </center><br>
  <br>
  <p>Windows-based facilities make available to the programmer, and the programmer sometimes makes available to the user, the ability to move and manipulate blocks of numbers. Of greatest interest to this series is the ability to move and rotate wires in an antenna model. It is a very handy feature that is often overlooked by users of programs that have it. I tend to use it considerably--even to the point of moving models from one program to another with the facility and back again--if the other program has a feature that I need there.</p>
  <p>So let's tell a short story with lots of pictures to get a handle on moving and rotating the wires of a model.</p>
  <center>
    <img src="amod42-1.gif" width="483" height="327" border="2" vspace="5" hspace="9">
  </center>
  <p><b>Fig. 1</b> is the outline of a simple 3-element Yagi which happens to be cut for 10 meters. My habitual conventions result in two features of note here. First, I tend to model with the reflector at zero and all other elements having positive spacing values ahead of the reflector. Second, I tend to model element length from -X to +X, which aligns the boom along the Y-axis. Not everybody uses these conventions, so we may wish to translate the model to something in accord with other conventions.</p>
  <center>
    <img src="amod42-2.gif" width="637" height="456" border="2" vspace="5" hspace="9">
  </center>
  <p><b>Fig. 2</b> shows the main screen of NEC-Win Plus, which happens to have the necessary facilities. The dimensions of the elements appear in the X1 and X2 boxes, with the spacing in the Y1-Y2 boxes. Note the longest element--the reflector--is at Y=0.</p>
  <p>Now move to the "Geometry" box in the upper right corner of the screen. We shall play with only two buttons on the top row. The left button is for rotation, which we shall look at shortly. The middle button is for moving one or more wires, which we shall examine immediately.</p>
  <p>Suppose that we wanted to shift all three wires so that the beam's boom is centered on Y=0. Since the Yagi is 3.41742 m long, we need to move the beam to the rear by -1.70871 m. We can do this by subtracting the movement number from each Y value. However, let's block the entire set of 3 rows and then click on the "Move" button.</p>
  <center>
    <img src="amod42-3.gif" width="639" height="459" border="2" vspace="5" hspace="9">
  </center>
  <p><b>Fig. 3</b> gives us the resulting screen. The "Move" box is overlaid on the main screen, but you can see the blocking of the relevant wire entries that will allow us to move all three wires at once. In the translation entry area, -1.70871 has been entered for delta-Y. The initial and final positions of the first wired is shown, but the action will affect all of the wires that we have placed in the block.</p>
  <center>
    <img src="amod42-4.gif" width="637" height="293" border="2" vspace="5" hspace="9">
  </center>
  <p><b>Fig. 4</b> shows the main screen for the finished product. The Y-axis values are now +/-1.70871 m. Note that the driven element for this array is not centered on the boom, but is slightly to the rear of center.</p>
  <p>There are many good reasons for wanting to center a Yagi in this way. For example, if one is modeling a stack of antennas for different bands, one would want the antennas to line up with the mast as the center spot for the array. In some cases, the center of weight will not coincide exactly with the center of the boom, so adjustments may be needed. Nonetheless, the ability to move numerous elements at once by the same precise amount is handy to shorten the work--and to eliminate errors with respect to individual elements.</p>
  <p>Side-by-side stacks are also common. We can use the blocking facility to copy a set of elements from the basic antenna. Then we can move the new elements to their final position by translation in any one or more of the axes. When making up VHF squares of Yagis, for instance, I tend to copy one Yagi. Next, I position each Yagi equal distances on each side of a chosen axis. Then I copy both wire sets to create two more Yagis. These two can be moved together along a single axis to complete the square array.</p>
  <p>Although these actions have been illustrated with NEC-Win Plus, similar movement facilities are available in EZNEC using the "Group" change facilities in that program.</p>
  <p>Now let's suppose that someone prefers to have the Yagi elements extended along the Y-axis, with the boom along the X-axis. The maneuver can be made by going into each wire end entry set and swapping the X1 and Y1--as well as the X2 and Y2--values, wire by wire. However, there is a quicker way using the "Wire Rotate" routine.</p>
  <center>
    <img src="amod42-5.gif" width="637" height="357" border="2" vspace="5" hspace="9">
  </center>
  <p><b>Fig. 5</b> shows our centered Yagi with all wires within a block. Also in the picture is the rotation box. Since we wish to change the X-Y orientation of the antenna, the rotation will be around the Z-axis. Note the entry of 90 degrees in the "Rotation" area, with the initial and final values for the first wire shown as a check on the work before we commit to it.</p>
  <p>By now, sharp-eyed readers will have noticed that the elements are not perfectly symmetrical relative to the boom axis. As I noted, I often move models from one program to another, and this model originated in another program. Translation from one format to another often requires a bit of clean-up, which has not been performed yet. However, before finalizing a model "for the record," it is important to do the clean-up--not so much because it will change antenna performance reports, but because these small inexactitudes often distract and sometimes confuse others who may examine the model.</p>
  <center>
    <img src="amod42-6.gif" width="638" height="306" border="2" vspace="5" hspace="9">
  </center>
  <p>In <b>Fig. 6</b>, we have the rotated antenna wire table--complete with its not-quite-symmetrical elements. However, compare <b>Fig. 6</b> and <b>Fig. 4</b> to note the 90-degree reorientation of the beam.</p>
  <p>We could have performed the same rotation on the initial model, which placed that reflector at zero. By rotating the antenna around the Z axis, the reflector would have remained at zero, but on the X rather than the Y axis. The Z-axis is always presumed to have X and Y values of zero. If we had placed the reflector at Y=10 m initially, under rotation, the reflector would end up at X=10 m.</p>
  <p>One convenient use of the rotation facility is to test stacks of Yagis. A common configuration is a stack of 2 Yagis, with one fixed toward a target region (U. S. contesters use Europe as a common target for such arrays). The top beam rotates. Now suppose that we feed both arrays in phase. What happens to the composite pattern as we rotate the upper antenna some angular distance out of perfect alignment.</p>
  <center>
    <img src="amod42-7.gif" width="634" height="342" border="2" vspace="5" hspace="9">
  </center>
  <p><b>Fig. 7</b> shows the situation. Wires 1-3 represent the lower beam that is fixed. Wires 4-6 represent the upper beam that we intended to rotate. 17 m is a very large spacing for 10-meter arrays, but it will serve for the example. Let's rotate the upper beam 20 degrees and see what happens to the composite pattern.</p>
  <p>The rotation box shows the 20-degree rotation of the blocked wires--the upper Yagi--around the Y-axis. Both beams are otherwise identical. The final position listings in the rotation box may not seem informative at first sight, but they can assist in the prevention of errors before we alter the model itself.</p>
  <center>
    <img src="amod42-8.gif" width="637" height="341" border="2" vspace="5" hspace="9">
  </center>
  <p><b>Fig. 8</b> gives the final result for the tire upper beam in Wires 4-6. If the coordinates do not seem to let us know that the rotation is correctly done, we can always turn to the antenna view screen.</p>
  <center>
    <img src="amod42-9.gif" width="361" height="496" border="2" vspace="5" hspace="9">
  </center>
  <p><b>Fig. 9</b> shows the antennas. I have drawn the two arrays closer to each other to reduce the size of the image. However, we can see that the rotated upper array has elements that preserve their alignment with each other. A protractor will confirm that the rotation angle is 20 degrees.</p>
  <p>What we can learn from the exercise may surprise some and be old hat to others. We would want to keep a record for various angular intervals relevant to our concerns--perhaps data and patterns every 20 degrees from in-line to out-of-line (remembering that we will get mirror images as we return from out-of-line back to in-line). Recording gain and front-to-back ratio, and checking the elevation patterns as well as the azimuth patterns will give us a rather complete picture of what happens as we rotate the top beam only.</p>
  <center>
    <img src="amod42-10.gif" width="426" height="415" border="2" vspace="5" hspace="9">
  </center>
  <p>In <b>Fig. 10</b>, we can see the pattern for the example. The in-line case would have placed the pattern on a heading of 270 degrees in the plot. With the top beam rotated clockwise by 20 degrees, the maximum forward gain bearing is shifted by only 10-11 degrees. Since this is only a hypothetical exercise, I shall do the unforgivable and leave the remainder of what happens to the gain and front-to-back ratio--as well as to the vertical pattern--to the reader as an exercise well worth doing.</p>
  <p>The ability to rotate several wires at a time in a complex set of wires representing a large stack has further utility. In planning stacks, hams often combine 40-meter beams with multi-band antennas for 20-10 meters. One common technique is to place the 40-meter antenna at right angles to the multi-band array in order to minimize interactions and to permit closer spacing. Assume that the 40-meter array is above the multi-band antenna. Just how much separation is enough for in-line and for 90-degree orientations? A single model with some rotation of one of the two arrays will tell us much.</p>
  <p>We can, of course, combine rotations with movements to try to find the very best position for one array relative to another to minimize unwanted interactions. A similar problem occurs with multi-band quads, but here, the desire is often to place one or more VHF quads in the center region of the larger collection of HF loops. With the rotation facility, we can check performance potential with the VHF quads facing forwards or backwards. Likewise, with the movement facility, we can run the VHF quads forwards and backwards in the quest for perfect, non-interactive placement.</p>
  <p>We can perform similar tests with relative ease for arrays of Yagis or quads formed into squares, triangles, rhombi, etc. Changing separation, forward-rearward alignment, and angular relative positions is made fairly simple by the facilities we have been exploring.</p>
  <p>Let's take a simple example. Suppose we model a square quad for 20 meters. Face-on, it will have the appearance of <b>Fig. 11</b>.</p>
  <center>
    <img src="amod42-11.gif" width="483" height="327" border="2" vspace="5" hspace="9">
  </center>
  <p>Now suppose that we wish to convert the square quad into a model of a diamond-shaped quad. One way to do this is to note the length of any one side of each loop in the square quad. From the center of the quad, each unseen support arm will be 0.707 times the length of a side, and this value will determine the plus and minus Z values and the plus and minus X values (or the Y values, if one uses that convention) for the new model. Then we create 8 new wires using these coordinates.</p>
  <p>As the old saying goes, "Stop. There must be an easier way." There is.</p>
  <center>
    <img src="amod42-12.gif" width="637" height="358" border="2" vspace="5" hspace="9">
  </center>
  <p>In <b>Fig. 12</b>, we can see the block that encloses the values for the initial square quad. to the right is the rotation box. Our use of it this time will not involve the Z-axis. Instead, we shall use the Y-axis as the axis of rotation. The result will be to turn the elements in terms of the values of X by the amount specified--45 degrees.</p>
  <center>
    <img src="amod42-13.gif" width="637" height="375" border="2" vspace="5" hspace="9">
  </center>
  <p>The finished product appears in <b>Fig. 13</b>. Note that the initial quad model had some trailing extra decimal place entries, suggesting once more that I pulled a model from elsewhere and have not cleaned it up yet. Note also that some of the Z values that ought to be zero are calculated to be very tiny numbers (E-5). These certainly should be cleaned up.</p>
  <center>
    <img src="amod42-14.gif" width="483" height="327" border="2" vspace="5" hspace="9">
  </center>
  <p>However, except for a little messiness in the fifth decimal place and beyond, the quad has converted to a diamond shape in perfect order, as revealed by <b>Fig. 14</b>. The conversion was much faster than the recalculation of each wire end and reentry from scratch.</p>
  <p>Our work, however, is not finished. Note that the source segment is located along one leg of the driven loop. We need to move the source to one corner. We can implement the source using a split source technique, or we can create a short 3-segment wire at the corner and place the source on the center segment. We connect the ends to each of the adjacent legs of the driven loop that we opened up to make room for the feedpoint wire.</p>
  <p>Rotation in the X and Y axes has many applications beyond the simple case we used as an illustration here. For example, one question raised by operators at both HF and VHF is the effect on skip communications of changing the angle of the antenna relative to the terrain. The ability to rotate the antenna along its boom can provide some provisional answers to these questions--and rotating the entire antenna at once to various angles makes the data gathering process fairly efficient.</p>
  <p>How high must a VHF/UHF beam be to permit its main lobe to accurately track a satellite without undue influence on the elevation of the lobe by ground reflections? Once more, changing both the angle and the elevation of the antenna by rotation and movement actions provides relatively speedy answers.</p>
  <p>How will antennas on separate towers affect each other at various distances and various aiming bearings? The antennas may be at the same or different heights and operate on the same or different frequencies. It is possible to check the current levels of each antenna when one is left unfed while the other is fed. The exercise is never a short one, but the ability to change directions for each antenna, as well a moving them about the hypothetical antenna farm yard, will yield a large batch of data much faster than making changes to the antennas wire by wire.</p>
  <p>Similar analyses can be performed between antennas and wire-grid models of buildings, vehicles, and other objects in the antenna's area. The move and rotation facilities allow the modeler to push buildings around with far greater ease than reinstalling a tower or reconstructing a home or utility building.</p>
  <p>These are only some ways in which the move and rotation facilities in some programs can be used to expedite the gathering of useful data from antenna models. If we master them well, then we may well become interested in tackling larger, more informative projects with our modeling software. I hope these small exercises make you more aware of what is available to you and why it is worthy to become familiar with how to use it.</p>
  <p>I have not focused on scaling elements in this episode largely because we devoted an entire installment to the subject (No. 26). However, it might be useful to note that scaling facilities--whether based on frequency or simple multipliers--add another tool to the collection that can be speed our work and enable us to do more work than we might have initially imagined possible.</p>
  <center>
    <img src="../images/colorbar.gif" width="591" height="3">
  </center><br>
  <p><a href="modeling.html"><img src="../images/return.gif" align="bottom" width="40" height="40"> <b>Go to Main Index</b></a></p>
</body>
</html>
